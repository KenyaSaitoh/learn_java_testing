<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>CartViewPage</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<f:view>
  <h2>現在の買い物カゴの内容です</h2><hr />
    <h:form>
      <h:dataTable value="#{cart.cartItems}" var="cartItem" border="1">
      <h:column>
        <f:facet name="header"><h:outputText value="書籍名" /></f:facet>
        <h:outputText value="#{cartItem.bookName}" />
        <f:facet name="footer"><h:outputText value="" /></f:facet>
      </h:column>
      <h:column>
        <f:facet name="header"><h:outputText value="注文数" /></f:facet>
        <h:outputText value="#{cartItem.count}" />
        <f:facet name="footer"><h:outputText value="注文金額合計" /></f:facet>
      </h:column>
      <h:column>
        <f:facet name="header"><h:outputText value="価格" /></f:facet>
        <h:outputText value="#{cartItem.price}">
          <f:convertNumber groupingUsed="true" />
        </h:outputText>
        <f:facet name="footer">
          <h:outputText value="#{cart.totalPrice}">
            <f:convertNumber groupingUsed="true" />
          </h:outputText>
        </f:facet>
      </h:column>
      <h:column>
        <f:facet name="header"><h:outputText value="削除" /></f:facet>
        <h:selectBooleanCheckbox value="#{cartItem.remove}" />
      </h:column>
    </h:dataTable><br />
    <h:outputLink value="./BookSelectPage.jsp">
      <h:outputText value="買い物を続ける" />
    </h:outputLink><br /><br />
    <h:commandLink action="#{cart.remove}" 
      value="選択した書籍をカートから削除する" /><br /><br />
    <h:commandLink action="#{cart.clear}" 
      value="買い物カゴをクリアする" /><br /><br />
    <h:commandLink action="#{cart.fix}" 
      value="買い物を終了し注文する" />
  </h:form>
</f:view>
</body>
</html>